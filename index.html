<!DOCTYPE html>
<html lang="en"> 
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PvZ2: SHUTTLE is one of the most famous Chinese PvZ2 mods, it is a difficulty-focused mod that aims to bring extremely challenging experiences with a variety of features!"/>
    <title>PvZ2: SHUTTLE</title>
    <link rel="stylesheet" href="assets/style.css">
  </head>

  <body>
    <div class="navbar">
      <div class="navbar-left">
        <a href="/" class="navbar-btn" id="home-btn" aria-label="Home Page"></a>
        <a href="/news" class="navbar-btn" id="news-btn" aria-label="News Page"></a>
      </div>
      <div class="navbar-right">
        <select class="lang-select" id="lang-select" title="Select Language">
          <option value="zh-CN">简体中文</option>
          <option value="en-US">English</option>
        </select>
      </div>
    </div>

    <div class="overlay">
      <div class="header-container">
        <img class="logo" id="game-icon" src="" alt="Game Icon" />
        <img id="game-title-logo" src="" alt="Title Logo" style="height: 15rem; object-fit: contain" />
      </div>

      <div class="card" id="download-card">
        <h2 id="title-download"></h2>
        <div class="version-badge" id="version"></div>
        <div class="btn-container" id="downloads"></div>
      </div>

      <div class="card">
        <h2 id="title-trailer"></h2>
        <div id="trailer-container"></div>
      </div>

      <div class="card">
        <h2 id="title-developers"></h2>
        <div class="btn-container" id="developers"></div>
      </div>

      <div class="card">
        <h2 id="title-community"></h2>
        <div class="btn-container" id="groups"></div>
      </div>
    </div>
    <script type="module">
      async function main() {
        const res = await fetch(new URL('/assets/config.json', import.meta.url));
        const config = await res.json();

        const mainJsPath = config.mainJs;
        const textsJsonPath = config.textsJson;
        const iconsJsPath = config.iconsJs;
        const styleCssPath = config.styleCss; 

        const module = await import(new URL(mainJsPath, import.meta.url));
        module.init(config, textsJsonPath, iconsJsPath, styleCssPath);
      }

      main().catch(console.error);
    </script>
  </body>
</html>